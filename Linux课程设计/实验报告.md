# å®éªŒæ­¥éª¤å’ŒæŠ€æœ¯è¦ç‚¹
## é¡¹ç›®ä¸€ Linuxæ–‡ä»¶å’Œç›®å½•æ“ä½œ   

1. ç™»å½•è¿›å…¥ç³»ç»Ÿ, ä¿®æ”¹ä¸ªäººå¯†ç . 
```console
feldan@FeldanBook:~$ passwd feldan
Changing password for feldan.
(current) UNIX password:
Enter new UNIX password:
Retype new UNIX password:
passwd: password updated successfully
```
2. ä½¿ç”¨ç®€å•å‘½ä»¤ date, cal, who, echo, clear ç­‰, äº†è§£ linux å‘½ä»¤æ ¼å¼. 
```console
feldan@FeldanBook:~$ date
Thu Jun  9 14:58:07 CST 2022
feldan@FeldanBook:~$ cal    
     June 2022        
Su Mo Tu We Th Fr Sa  
          1  2  3  4  
 5  6  7  8  9 10 11  
12 13 14 15 16 17 18  
19 20 21 22 23 24 25  
26 27 28 29 30        

feldan@FeldanBook:~$ who
nas      pts/0        2022-06-09 14:56 (27.37.72.96)
feldan@FeldanBook:~$ echo 'hi'
hi
...
```
3. æµè§ˆæ–‡ä»¶ç³»ç»Ÿ. 
- è¿è¡Œ pwd å‘½ä»¤, ç¡®å®šå½“å‰å·¥ä½œç›®å½•.
```console
feldan@FeldanBook:~$ pwd
/home/feldan
```
- è¿è¡Œ ls-l å‘½ä»¤, ç†è§£å„å­—æ®µå«ä¹‰. 
```console
feldan@FeldanBook:/mnt/c/ä½œä¸š$ ls -l
total 104
-rwxrwxrwx 1 feldan feldan 103053 Apr 27 11:02 2022å¹´ç¬¬34æœŸå…¥å…šç§¯ 
æåˆ†å­ç»“ä¸šè€ƒè¯•è¯•é¢˜ï¼ˆæ”¹ï¼‰.doc
drwxrwxrwx 1 feldan feldan   4096 Nov 12  2021 å¤§ä¸‰ä¸Š
drwxrwxrwx 1 feldan feldan   4096 Dec 24  2020 å¤§äºŒä¸Š
```
- è¿è¡Œ ls-ai å‘½ä»¤, ç†è§£å„å­—æ®µå«ä¹‰.
```console
feldan@FeldanBook:/mnt/c/ä½œä¸š$ ls -ai
1688849860375430 .
1407374883553285 ..
6192449487769870 2022å¹´ç¬¬34æœŸå…¥å…šç§¯æåˆ†å­ç»“ä¸šè€ƒè¯•è¯•é¢˜ï¼ˆæ”¹ï¼‰.doc   
5348024558189099 å¤§ä¸‰ä¸Š
3377699720642279 å¤§äºŒä¸Š
```   
- ä½¿ç”¨ cd å‘½ä»¤, å°†å·¥ä½œç›®å½•æ”¹åˆ°æ ¹ï¼ˆ/ï¼‰ä¸Š.  
```console
feldan@FeldanBook:/mnt/c/ä½œä¸š$ cd /
feldan@FeldanBook:/$ 
``` 
- ç›´æ¥ä½¿ç”¨å‘½ä»¤ cd, ç”¨ pwd éªŒè¯å›åˆ°å“ªä¸ªç›®å½•.  
```console
feldan@FeldanBook:/$ cd 
feldan@FeldanBook:~$ pwd
/home/feldan
````
- ç”¨ mkdir å»ºç«‹ä¸€ä¸ªå­ç›®å½• subdir.
```console
feldan@FeldanBook:/$ cd 
feldan@FeldanBook:~$ pwd
/home/feldan
```
- å°†å·¥ä½œç›®å½•æ”¹åˆ° subdir.
```console
feldan@FeldanBook:~$ cd subdir/
feldan@FeldanBook:~/subdir$ 
```` 
1. æ–‡ä»¶æ“ä½œ.  
- éªŒè¯å½“å‰å·¥ä½œç›®å½•åœ¨ subdir. 
```console
feldan@FeldanBook:~/subdir$ pwd
/home/feldan/subdir
```
- è¿è¡Œ date>file1, ç„¶åè¿è¡Œ cat file1, çœ‹ä¿¡æ¯ï¼Ÿ 
```console
feldan@FeldanBook:~/subdir$ date>file1
feldan@FeldanBook:~/subdir$ ls
file1
feldan@FeldanBook:~/subdir$ cat file1 
Thu Jun  9 15:18:56 CST 2022
````
- è¿è¡Œ cat subdir, ä¼šæœ‰ä»€ä¹ˆç»“æœï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
```console
feldan@FeldanBook:~/subdir$ cat subdir
cat: subdir: No such file or directory
feldan@FeldanBook:~/subdir$ cd ..
feldan@FeldanBook:~$ cat subdir/
cat: subdir/: Is a directory
```
`æ— æ³•è®¿é—®ç›®å½•æœ¬èº«`è€Œä¸”`catæ— æ³•è¯»å–ç›®å½•`   
- åˆ©ç”¨ man å‘½ä»¤æ˜¾ç¤º date å‘½ä»¤çš„ä½¿ç”¨è¯´æ˜. 
```console
feldan@FeldanBook:~$ cat subdir/
DATE(1)                             User Commands                             DATE(1)

NAME
       date - print or set the system date and time

SYNOPSIS
       date [OPTION]... [+FORMAT]
       date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
 Manual page date(1) line 1 (press h for help or q to quit)
```
- è¿è¡Œ man date >>file1, çœ‹åˆ°ä»€ä¹ˆï¼Ÿ è¿è¡Œ cat file1, çœ‹åˆ°ä»€ä¹ˆï¼Ÿ
```console
feldan@FeldanBook:~/subdir$ man date >>file1
feldan@FeldanBook:~/subdir$ cat file1 
Thu Jun  9 15:18:56 CST 2022
DATE(1)                             User Commands                             DATE(1)   

NAME
       date - print or set the system date and time

SYNOPSIS
       date [OPTION]... [+FORMAT]
       date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
...
```
- åˆ©ç”¨ ls-l file1, äº†è§£é“¾æ¥è®¡æ•°æ˜¯å¤šå°‘ï¼Ÿ è¿è¡Œ ln file1 ../fa, å†è¿è¡Œ ls-l file1, é“¾æ¥è®¡æ•°æœ‰æ— å˜åŒ–ï¼Ÿç”¨ cat å‘½ä»¤æ˜¾ç¤º fa æ–‡ä»¶å†…å®¹.
```console
feldan@FeldanBook:~/subdir$ ls -l
total 8
-rw-r--r-- 1 feldan feldan 6410 Jun  9 15:24 file1
```
`å½“å‰é“¾æ¥è®¡æ•°ä¸º1`
```console
feldan@FeldanBook:~/subdir$ ls -l
total 8
-rw-r--r-- 2 feldan feldan 6410 Jun  9 15:24 file1
```
`å½“å‰é“¾æ¥è®¡æ•°ä¸º2`
```console
feldan@FeldanBook:~/subdir$ cat ../fa
Thu Jun  9 15:18:56 CST 2022
DATE(1)                             User Commands                             DATE(1)   

NAME
       date - print or set the system date and time

SYNOPSIS
       date [OPTION]... [+FORMAT]
       date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
...
```
- æ˜¾ç¤º file1 çš„å‰ 10 è¡Œå’Œå 10 è¡Œ.
```console
feldan@FeldanBook:~/subdir$ head -n 10 file1 
Thu Jun  9 15:18:56 CST 2022
DATE(1)                             User Commands                             DATE(1)   

NAME
       date - print or set the system date and time

SYNOPSIS
       date [OPTION]... [+FORMAT]
       date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]

feldan@FeldanBook:~/subdir$ ta
tabcal.exe      takeown.exe     tapisrv.dll     taskbarcpl.dll  taskschd.dll
tabs            tapi3.dll       tapiui.dll      taskcomp.dll    taskschd.msc
tabulate        tapi32.dll      tar             taskhostw.exe   taskset
tac             tapilua.dll     tar.exe         taskkill.exe
tail            tapiperf.dll    tarcat          tasklist.exe
feldan@FeldanBook:~/subdir$ ta
tabcal.exe      takeown.exe     tapisrv.dll     taskbarcpl.dll  taskschd.dll
tabs            tapi3.dll       tapiui.dll      taskcomp.dll    taskschd.msc
tabulate        tapi32.dll      tar             taskhostw.exe   taskset
tac             tapilua.dll     tar.exe         taskkill.exe
tail            tapiperf.dll    tarcat          tasklist.exe
feldan@FeldanBook:~/subdir$ tail -n 10 file1 
       Copyright Â© 2017 Free Software Foundation, Inc.  License GPLv3+: GNU GPL  verâ€
       sion 3 or later <http://gnu.org/licenses/gpl.html>.
       This  is  free software: you are free to change and redistribute it.  There is   
       NO WARRANTY, to the extent permitted by law.

SEE ALSO
       Full documentation at: <http://www.gnu.org/software/coreutils/date>
       or available locally via: info '(coreutils) date invocation'

GNU coreutils 8.28                   January 2018                             DATE(1)   
feldan@FeldanBook:~/subdir$
```
- è¿è¡Œ cp file1 file2, ç„¶å ls-l, çœ‹åˆ°ä»€ä¹ˆï¼Ÿ è¿è¡Œ mv file2 file3, ç„¶å ls -l, çœ‹åˆ°ä»€ä¹ˆï¼Ÿ è¿è¡Œ cat f*, ç»“æœæ€æ ·?
```console
feldan@FeldanBook:~/subdir$ ls -l
total 16
-rw-r--r-- 2 feldan feldan 6410 Jun  9 15:24 file1
-rw-r--r-- 1 feldan feldan 6410 Jun  9 15:34 file2
feldan@FeldanBook:~/subdir$  mv file2 file3
feldan@FeldanBook:~/subdir$ ls -l
total 16
-rw-r--r-- 2 feldan feldan 6410 Jun  9 15:24 file1
-rw-r--r-- 1 feldan feldan 6410 Jun  9 15:34 file3
feldan@FeldanBook:~/subdir$ cat f* # `æ˜¾ç¤ºfile1å’Œfile3çš„å†…å®¹`
Thu Jun  9 15:18:56 CST 2022
DATE(1)                             User Commands                             DATE(1)   

NAME
       date - print or set the system date and time

SYNOPSIS
       date [OPTION]... [+FORMAT]
...
```

- è¿è¡Œ rm file3, ç„¶å ls-l, ç»“æœå¦‚ä½•ï¼Ÿ 
```console
feldan@FeldanBook:~/subdir$ rm file3
feldan@FeldanBook:~/subdir$ ls -l
total 8
-rw-r--r-- 2 feldan feldan 6410 Jun  9 15:24 file1
```
`file3è¢«åˆ é™¤`
- åœ¨/etc/passwd æ–‡ä»¶ä¸­æŸ¥æ‰¾åŒ…å«ä½ æ³¨å†Œåçš„è¡Œ. 
```console
feldan@FeldanBook:~/subdir$ sudo cat  /etc/passwd |grep feldan
feldan:x:1000:1000:,,,:/home/feldan:/bin/bash
```
- ç”¨ä¸¤ç§æ–¹å¼æ”¹å˜ file1 çš„æƒé™. 
>æ–¹æ³•1 chown æ›´æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ·æˆ–è€…ç»„  

>æ–¹æ³•2 chmod æ›´æ”¹æ–‡ä»¶è¯»å†™æ‰§è¡Œæƒé™
- ç»Ÿè®¡ file1 æ–‡ä»¶çš„è¡Œæ•°ã€å­—æ•°. 

```console
feldan@FeldanBook:~/subdir$ wc -l file1 
204 file1
feldan@FeldanBook:~/subdir$ wc -w file1 
813 file1
```
- è¿è¡Œ man ls|more, æ˜¾ç¤ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ 
```console
feldan@FeldanBook:~/subdir$ man ls|more
LS(1)                               User Commands                               LS(1)

NAME
       ls - list directory contents

SYNOPSIS
       ls [OPTION]... [FILE]...
...
```
- è¿è¡Œ cat file1|head -20|tee file5, ç»“æœå¦‚ä½•ï¼Ÿ 
```console
feldan@FeldanBook:~/subdir$ cat file1|head -20|tee file5
Thu Jun  9 15:18:56 CST 2022
DATE(1)                             User Commands                             DATE(1)   

NAME
       date - print or set the system date and time

SYNOPSIS
       date [OPTION]... [+FORMAT]
       date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]

DESCRIPTION
       Display the current time in the given FORMAT, or set the system date.

       Mandatory arguments to long options are mandatory for short options too.

       -d, --date=STRING
              display time described by STRING, not 'now'

       --debug
              annotate the parsed date, and warn about questionable usage to stderr    
```
- è¿è¡Œ cat file5|wc, ç»“æœå¦‚ä½•ï¼Ÿ 
```console
feldan@FeldanBook:~/subdir$  cat file5|wc
     20      74     631
``` 

1. é“¾æ¥æ–‡ä»¶   
- ç”¨ mkdir é€’å½’æ–°å»ºç›®å½•/home/my/mydoc
```console
feldan@FeldanBook:~/subdir$ sudo mkdir -p /home/my/mydoc
feldan@FeldanBook:~/subdir$ tree /home
/home     
â”œâ”€â”€ feldan
â”‚   â”œâ”€â”€ fa
â”‚   â””â”€â”€ subdir
â”‚       â”œâ”€â”€ file1
â”‚       â””â”€â”€ file5
â””â”€â”€ my
    â””â”€â”€ mydoc

4 directories, 3 files
```
- ç”¨ rmidr é€’å½’åˆ é™¤ç›®å½•/home/my/mydoc
```console
feldan@FeldanBook:~/subdir$ sudo rmdir /home/my/mydoc
feldan@FeldanBook:~/subdir$ tree /home/
/home/
â”œâ”€â”€ feldan
â”‚   â”œâ”€â”€ fa
â”‚   â””â”€â”€ subdir
â”‚       â”œâ”€â”€ file1
â”‚       â””â”€â”€ file5
â””â”€â”€ my

3 directories, 3 files
```
- åœ¨/root ç›®å½•ä¸‹æ–°å»ºç›®å½• my
- feldan@FeldanBook:~$ su
```console
Password:
root@FeldanBook:~# mkdir my
root@FeldanBook:~# ls
my
```

- å¯¹/root/my åˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆæ€è€ƒï¼šæ˜¯å¦èƒ½å¯¹/root/my åˆ›å»ºç¡¬é“¾æ¥ï¼‰
```console
root@FeldanBook:~# ln -s my my1
root@FeldanBook:~# ls
my  my1
root@FeldanBook:~# cd my1
root@FeldanBook:~/my1# ls
root@FeldanBook:~/my1# pwd
/root/my1
```
- åœ¨ my ä¸­åˆ›å»ºæ™®é€šæ–‡ä»¶ myfile.txt
```console
root@FeldanBook:~/my# touch myfile.txt
root@FeldanBook:~/my# ls
myfile.txt
```
- ä¸º myfile.txt åˆ›å»ºç¡¬é“¾æ¥å’Œls.
```console
root@FeldanBook:~/my# ln myfile.txt myfile1.txt
root@FeldanBook:~/my# ln -s myfile.txt myfile2.txt
root@FeldanBook:~/my# ls
myfile.txt  myfile1.txt  myfile2.txt
```
- åˆ é™¤ myfile.txt æŸ¥çœ‹å…¶ç¡¬é“¾æ¥å’Œç¬¦å·é“¾æ¥çš„çŠ¶æ€.ï¼ˆæ˜¯å¦è¿˜èƒ½æ­£å¸¸æ‰“å¼€ï¼‰
```console
root@FeldanBook:~/my# rm myfile.txt 
root@FeldanBook:~/my# cat myfile1.txt 
root@FeldanBook:~/my# cat myfile2.txt 
cat: myfile2.txt: No such file or directory
```

## é¡¹ç›®äºŒ Linux ç³»ç»Ÿç”¨æˆ·ç®¡ç†ç­–ç•¥åˆ†æ
1. åˆ›å»º 1 ä¸ªç»„ç¾¤è´¦æˆ·ï¼Œå–å stugrpï¼Œè®¾ç½® GID=1010ï¼›
```console
root@FeldanBook:~# groupadd -g 1010 stugrp

stugrp: x:1010:
```
2. æ‰¹é‡åˆ›å»º 50 ä¸ªç”¨æˆ· stu001ï¼Œstu002,...ï¼Œstu050ï¼Œè®¾ç½®å…¶ UID=1010ï¼Œ1011ï¼Œ1012ï¼Œ...ï¼Œ1059ã€‚å¹¶è®¾ç½® GID=1010ï¼Œè®¾ç½®ç”¨æˆ·ä¸»ç›®å½•ä¸º/home/stu001ã€... ã€/home/stu050ï¼Œè®¾ç½® shell ä¸º/bin/bas
```console
root@FeldanBook:~# sh adduser.sh
groupadd: "stugrp"ç»„å·²å­˜åœ¨
User and password generation succeeded
succeede
root@FeldanBook:~# tail -50 /etc/passwd
stu01:x:1010:1010:stu01:/home/stu01:/bin/bash
stu02:x:1010:1010:stu02:/home/stu02:/bin/bash
stu03:x:1010:1010:stu03:/home/stu03:/bin/bash
stu04:x:1010:1010:stu04:/home/stu04:/bin/bash
stu05:x:1010:1010:stu05:/home/stu05:/bin/bash
stu06:x:1010:1010:stu06:/home/stu06:/bin/bash
stu07:x:1010:1010:stu07:/home/stu07:/bin/bash
stu08:x:1010:1010:stu08:/home/stu08:/bin/bash
stu09:x:1010:1010:stu09:/home/stu09:/bin/bash
stu10:x:1010:1010:stu10:/home/stu10:/bin/bash
stu11:x:1010:1010:stu11:/home/stu11:/bin/bash
stu12:x:1010:1010:stu12:/home/stu12:/bin/bash
...
```
```bash
#!/bin/bash
# file        :item2_adduser.sh
# Author      :feldan
# url https://blog.feldan.top
# Date        :2022/06/09 16:24:57
uid=1009
gid=1010
groupadd -g $gid stugrp
for((i=1;i<51;i++)); 
do
if ["$i" -lt 10]
then
uname=stu0$i
else
uname=stu$1
fi
    let "uid=uid+1"
    echo $uname:x:$uid:$gid:$uname:/home/$uname:/bin/bash>>user.txt
    echo $uname:stu123>>userpasswd.txt
done
echo "User and password generation succeeded"
newusers < user.txt #è¯»å–åˆ›å»º
pwunconv #å–æ¶ˆåŠ å¯†
chpasswd < userpasswd.txt #è¯»å–åˆ›å»ºå¯†ç 
pwconv #æ¢å¤åŠ å¯†
echo "succeede"
```

## é¡¹ç›®ä¸‰ è¿›ç¨‹ç®¡ç†  
- è¾“å…¥ ps å‘½ä»¤ï¼Œåˆ†åˆ«å°±ä¸å¸¦é€‰é¡¹å’Œå¸¦é€‰é¡¹-aã€-eã€-fã€uã€x åˆ†æè¾“å‡ºç»“æœï¼Œ
æ˜ç¡®å„å­—æ®µçš„å«ä¹‰
```console
feldan@FeldanBook:~$ ps
  PID TTY          TIME CMD
   60 tty3     00:00:00 bash
   85 tty3     00:00:00 ps
feldan@FeldanBook:~$ ps -a
  PID TTY          TIME CMD
    9 tty2     00:00:00 bash
   10 tty1     00:00:00 bash
   60 tty3     00:00:00 bash
   86 tty3     00:00:00 ps
feldan@FeldanBook:~$ ps -e
  PID TTY          TIME CMD
    1 ?        00:00:00 init
    7 tty1     00:00:00 init
    8 tty2     00:00:00 init
    9 tty2     00:00:00 bash
   10 tty1     00:00:00 bash
   59 tty3     00:00:00 init
   60 tty3     00:00:00 bash
   87 tty3     00:00:00 ps
feldan@FeldanBook:~$ ps -f
UID        PID  PPID  C STIME TTY          TIME CMD
feldan      60    59  1 08:45 tty3     00:00:00 -bash
feldan      88    60  0 08:46 tty3     00:00:00 ps -f
feldan@FeldanBook:~$ ps -u
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
feldan       9  0.0  0.0  16792  3476 tty2     S    08:30   0:00 -bash
feldan      10  0.0  0.0  16792  3476 tty1     S    08:30   0:00 -bash
feldan      60  1.5  0.0  16796  3484 tty3     S    08:45   0:00 -bash
feldan      89  0.0  0.0  17392  1952 tty3     R    08:46   0:00 ps -u
feldan@FeldanBook:~$ ps -x
  PID TTY      STAT   TIME COMMAND
    9 tty2     S      0:00 -bash
   10 tty1     S      0:00 -bash
   60 tty3     S      0:00 -bash
   90 tty3     R      0:00 ps -x
```
- è¾“å…¥ ps â€“ef å‘½ä»¤ä»åå‘å‰æ‰¾å‡ºå„è‡ªçš„çˆ¶è¿›ç¨‹ï¼Œç›´è‡³ 1 å·è¿›ç¨‹ï¼Œç”»å‡ºç›¸å…³è¿›
ç¨‹çš„æ—ç³»å…³ç³»å›¾
```console
feldan@FeldanBook:~$ ps -ef
UID        PID  PPID  C STIME TTY          TIME CMD
root         1     0  0 08:30 ?        00:00:00 /init
root         7     1  0 08:30 tty1     00:00:00 /init
root         8     1  0 08:30 tty2     00:00:00 /init
feldan       9     8  0 08:30 tty2     00:00:00 -bash
feldan      10     7  0 08:30 tty1     00:00:00 -bash
root        59     1  0 08:45 tty3     00:00:00 /init
feldan      60    59  0 08:45 tty3     00:00:00 -bash
feldan      91    60  0 08:46 tty3     00:00:00 ps -ef
```
- ç¼–å†™ä¸€ä¸ªç®€å•çš„ shell ç¨‹åºï¼Œå…¶æ–‡ä»¶åä¸º myfile.shã€‚
```bash
cat myfile.sh
echo 1
echo 2
echo 3
sleep 20
echo 4
echo 5
```
bash è¿è¡Œè„šæœ¬å‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ
```console
DUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ ./myfile.sh 
cat myfile.sh
echo 1
echo 2
echo 3
sleep 20
echo 4
echo 51
2
3

```
å¦‚æœåœ¨æœ«å°¾åŠ ä¸€ä¸ª&ï¼Œå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚
```console
feldan@FeldanBook:/mnt/c/Users/Feldan/OneDrive - gdust.edu.cn/ä¸ª
DUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ ./myfile.sh &
[1] 104
feldan@FeldanBook:/mnt/c/Users/Feldan/OneDrive - gdust.edu.cn/ä¸ª
DUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ cat myfile.sh
echo 1
echo 2
echo 3
sleep 20
echo 4
echo 51
2
3

```
ç”¨ ps æŸ¥çœ‹ã€‚
```console
DUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ ps
  PID TTY          TIME CMD
   10 tty1     00:00:00 bash
  104 tty1     00:00:00 bash
  106 tty1     00:00:00 sleep
  107 tty1     00:00:00 ps
```
- æ‰§è¡Œå‘½ä»¤ sleep 60;who |grep â€˜rootâ€™ï¼Œè§‚å¯Ÿç³»ç»Ÿæœ‰ä½•ååº”ã€‚
```console
feldan@FeldanBook:/mnt/c/Users/Feldan/OneDrive - gdust.edu.cn/ä¸ª
DUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ sleep 60;who |grep â€˜r
ootâ€™
# 60ç§’ä¸èƒ½æ“ä½œ
```
- ç”¨ top å‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„çŠ¶æ€ï¼Œå¹¶è¯†åˆ«å„è¿›ç¨‹çš„æœ‰å…³æ ç›®
```console
top - 08:53:48 up 23 min,  0 users,  load average: 0.52, 0.58, 0.59
Tasks:   8 total,   1 running,   7 sleeping,   0 stopped,   0 zombie
%Cpu(s):  3.1 us,  2.3 sy,  0.0 ni, 94.1 id,  0.0 wa,  0.5 hi,  0.0 si,  0.0 st
KiB Mem :  6199272 total,  1154944 free,  4814976 used,   229352 buff/cache
KiB Swap: 18874368 total, 18706144 free,   168224 used.  1250564 avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
    1 root      20   0    8940    328    284 S   0.0  0.0   0:00.31 init
    7 root      20   0    8940    224    192 S   0.0  0.0   0:00.01 init
    8 root      20   0    8940    224    192 S   0.0  0.0   0:00.00 init
    9 feldan    20   0   16792   3476   2096 S   0.0  0.1   0:00.27 bash
   10 feldan    20   0   17056   3892   3588 S   0.0  0.1   0:00.47 bash
   59 root      20   0    8940    224    180 S   0.0  0.0   0:00.01 init
   60 feldan    20   0   16796   3484   3372 S   0.0  0.1   0:00.39 bash
  112 feldan    20   0   17640   2104   1552 R   0.0  0.0   0:00.01 top

```
- ç”¨ ps æŸ¥çœ‹ç³»ç»Ÿå½“å‰è¿›ç¨‹ï¼Œå¹¶æŸ¥çœ‹ç³»ç»Ÿå½“å‰æœ‰æ²¡æœ‰ init è¿›ç¨‹
```console
feldan@FeldanBook:/mnt/c/Users/Feldan/OneDrive - gdust.edu.cn/ä¸ªdanBook:/mnt/c/UsFeldan/äººå­¦ä¹ 
/GDUST-DabianPractice$ ps
  PID TTY          TIME CMD
    9 tty2     00:00:00 bash
  113 tty2     00:00:00 ps
```
- è¾“å…¥â€œcat <å›è½¦>â€ï¼ŒæŒ‰ CTRL+Z é”®ï¼Œå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿè¾“å…¥ fg å‘½ä»¤å‡ºç°ä»€ä¹ˆæƒ…å†µï¼ŒæŒ‰ CTRL+C é”®ï¼Œå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ
```console
/GDUST-DabianPractice$ cat
^Z
[1]+  Stopped                 cat
feldan@FeldanBook:/mnt/c/Users/Feldan/OneDrive - gdust.edu.cn/ä¸ª 
äººå­¦ä¹ 
/GDUST-DabianPractice$ fg
cat
/GDUST-DabianPractice$ fg
cat
^C
feldan@FeldanBook:/mnt/c/Users/Feldan/OneDrive - gdust.edu.cn/ä¸ª 
äººå­¦ä¹ 
/GDUST-DabianPractice$ 
```

- åœ¨åå°å¯åŠ¨ä¸€ä¸ªä»»åŠ¡ï¼ˆä¾‹å¦‚ vi test.txt&ï¼‰ç„¶åç”¨ jobs å‘½ä»¤åˆ—å‡ºä»»åŠ¡ï¼Œå¹¶ç”¨
fg å‘½ä»¤å°†ä»»åŠ¡åˆ‡æ¢åˆ°å‰å°è¿è¡Œã€‚
```console
feldan@FeldanBook:/mnt/c/Users/Feldan/Onegdust.edu.cn/ä¸ªäººå­¦ä¹ /GDUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ vim myfile.sh&
[1] 124
feldan@FeldanBook:/mnt/c/Users/Feldan/Onegdust.edu.cn/ä¸ªäººå­¦ä¹ /GDUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ jobs
[1]+  Stopped                 vim myfile.sh
feldan@FeldanBook:/mnt/c/Users/Feldan/Onegdust.edu.cn/ä¸ªäººå­¦ä¹ /GDUST-DabianPractice/Linuxè¯¾ç¨‹è®¾è®¡$ fg 1
vim myfile.sh
```
- åœ¨ 2019 å¹´ 12 æœˆ 12 æ—¥ 0 ç‚¹ 0 åˆ†ï¼ˆæ³¨ï¼šå…·ä½“æ—¶é—´å¯æ ¹æ®å®é™…å®éªŒå®è·µä¿®æ”¹ï¼‰
æŸ¥çœ‹ç³»ç»Ÿä¸­æœ‰å“ªäº›ç”¨æˆ·ç™»å½•ï¼ŒæŠŠç»“æœä¿å­˜åˆ° yh.txt ä¸­ï¼Œå¹¶å°†æ‰§è¡Œçš„ç»“æœä»¥ E-mail
ä¼ å›ã€‚
```console
feldan@FeldanBook:~$at -m 00:33 2022-6-09
at>who>yh.txt
at><EOT>
job 3 at Fri june 10 00:33:00 2022
```
- å…ˆå»ºç«‹ 2 ä¸ªæ–‡ä»¶ mydoc1.txt å’Œ mydoc2.txtï¼Œå¹¶åˆ†åˆ«ä»»æ„è¾“å…¥ä¸€äº›å†…å®¹ã€‚åˆ©ç”¨ batch å‘½ä»¤æ˜¾ç¤º mydoc1.txt ä¸ mydoc2.txt ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚
```console
feldan@FeldanBook:~$ vim mydoc1.txt
feldan@FeldanBook:~$ vim mydoc2.txt
feldan@FeldanBook:~$ batch
````
- è‡ªå·±æ–°å»ºå¹¶ç¼–è¾‘ä¸€ä¸ª crontset æ–‡ä»¶ï¼Œç”¨ crontab å‘½ä»¤å®ç°æ¯å°æ—¶çš„ 30 åˆ†é’Ÿ
è‡ªåŠ¨æ£€æŸ¥ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·å¹¶ä¿å­˜åˆ° mysyslog æ—¥å¿—æ–‡ä»¶ä¸­ã€‚
aï¼‰å»ºç«‹æ–‡ä»¶ crontset,æŒ‰ crontab æ–‡ä»¶è§„åˆ™è¾“å…¥ä»¥ä¸‹å†…å®¹:
bï¼‰ç”¨å‘½ä»¤ crontab è°ƒåº¦ï¼š
```console
[nas@nas-manjaro ~]$ crontab -e
no crontab for nas - using an empty one
crontab: installing new crontab
[nas@nas-manjaro ~]$ crontab -l
*/30 * * * * /home/nas/crontest.sh>/home/nas/log.txt
```

- è¿è¡Œ ps å‘½ä»¤ï¼ŒæŸ¥çœ‹è¿›ç¨‹çŠ¶æ€ï¼Œæ‰§è¡Œç›¸å…³å‘½ä»¤ã€‚
```console
[nas@nas-manjaro ~]$ ps
    PID TTY          TIME CMD
 357713 pts/2    00:00:00 bash
 357817 pts/2    00:00:00 ps
```
- ç”¨ kill -l åˆ—å‡ºä¿¡å·ã€‚
```console
[nas@nas-manjaro ~]$ kill -l
 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP
 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1
11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM
16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP
21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ
26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR
31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3
38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8
43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13
48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12
53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7
58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2
63) SIGRTMAX-1  64) SIGRTMAX
```
- è¿è¡Œ find / -name foxy.jpg&ï¼Œç„¶åç”¨ ps å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹å·ï¼Œå¹¶ç”¨ kill å‘½
ä»¤ç»ˆæ­¢è¿›ç¨‹ï¼Œåœ¨ç”¨ ps æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å·²ç»åˆ é™¤ã€‚
```console


feldan@FeldanBook:~$ ps
  PID TTY          TIME CMD
   60 tty3     00:00:00 bash
  138 tty3     00:00:25 find
  140 tty3     00:00:00 ps
feldan@FeldanBook:~$ ps -ef|grep find
feldan     138    60 71 09:45 tty3     00:01:01 find / -name dd.jpg
feldan     142    60  0 09:47 tty3     00:00:00 grep --color=auto find
feldan@FeldanBook:~$ kill -9 138
feldan@FeldanBook:~$ ps -ef|grep find
feldan     144    60  0 09:47 tty3     00:00:00 grep --color=auto find
[1]+  Killed                  find / -name dd.jpg
```
## é¡¹ç›®å›› shell ç¼–ç¨‹ç»¼åˆè®¾è®¡
ç¼–å†™ä¸€ä¸ªæ˜¾ç¤ºèœå•çš„ shell ç¨‹åºï¼Œåˆ©ç”¨å‡½æ•°å®ç°ç®€å•çš„èœå•åŠŸèƒ½ï¼Œn çš„å€¼ç”±é”®
ç›˜è¾“å…¥ï¼š
```
===========================================
** ï¼ˆ1ï¼‰è®¡ç®— 1 åˆ° n çš„å¥‡æ•°ä¹‹å’Œï¼› **
** ï¼ˆ2ï¼‰è®¡ç®— 1 åˆ° n çš„é˜¶ä¹˜ï¼› **
** ï¼ˆ3ï¼‰è®¡ç®— 1 åˆ° n çš„æ‰€æœ‰ç´ æ•°ï¼› **
** ï¼ˆ4ï¼‰é€€å‡ºç¨‹åºã€‚ ** 
========================================== 
Please enter function select and number:
```
```bash
#/bin/bash
function method1(){
    sum=0
    for((i=1;i<=$y;i++,i++))
    do
        let "sum=sum+i"
    done
    echo "1 add to n sum is $sum"
}
function method2(){
    sum1=1
    sum2=0
    for((i=1;i<=$y;i++))
    do
        let "sum1=sum1*i"
    done
    echo "1 to n allsum is $sum1"
}
function method3(){
for((i=2;i<$y;i++))
    do
        isprime
        if [ "$?" -eq 0 ]
            then echo -n "$i "
        fi
    done
    echo
}
function isprime(){
    if((i==2))
        then return 0
    elif((i%2==0))
        then
    return 1   
    fi
        bond=$((i/2));flag=0
    for((k=3;k<=bond;k=k+2))
    do
        if((i%k==0));then
            flag=1
            break
        fi
    done
return $flag
}
#ä¸»å‡½æ•° è¾“å…¥x y  å¦‚æœxä¸º4é€€å‡ºå¾ªç¯
x=0
for((;$x!=4;))
do
    echo ===========================================
    echo "**    ï¼ˆ1ï¼‰è®¡ç®—1åˆ°nçš„å¥‡æ•°ä¹‹å’Œï¼›       **"
    echo "**    ï¼ˆ2ï¼‰è®¡ç®—1åˆ°nçš„é˜¶ä¹˜ï¼›           **"
    echo "**    ï¼ˆ3ï¼‰è®¡ç®—1åˆ°nçš„æ‰€æœ‰ç´ æ•°ï¼›       **"
    echo "**    ï¼ˆ4ï¼‰é€€å‡ºç¨‹åºã€‚                 **"
    echo ==========================================
    echo -n Please enter function select and number:
    read x y
    case $x in
        1) method1 ;;
        2) method2 ;;
        3) method3 ;;
    esac
done
```
## å®è®­äº” ~~Apache æœåŠ¡å™¨é…ç½®ä¸ä¸ªäºº Web ç«™ç‚¹é…ç½®~~ğŸ¤ªï¼ˆå­¦æ ¡å®è®­å¤ªæ­»æ¿äº†å§‘ä¸”æ”¾ä¸ªnginxåœ¨è¿™å§ï¼‰
1. ~~Apacheé…ç½®~~
```console
root@VM-8-12-debian:/usr/local/nginx/html/www/blog# cat /etc/nginx/conf.d/
blog.conf         chi-s-m.conf      gdust.conf        ssl/              www.conf          
blogschool.conf   chi-s-m.conf.bck  home.conf.bck     webdav.conf.bck   
root@VM-8-12-debian:/usr/local/nginx/html/www/blog# cat /etc/nginx/conf.d/blog.conf 
server {
        listen 80;
        server_name blog.feldan.top;
        rewrite ^(.*) https://${server_name}$1 permanent;

 }
server{
        listen 443 ssl;
 
        server_name blog.feldan.top;

        ssl_certificate /etc/nginx/conf.d/ssl/blog.feldan.top/blog.feldan.top.pem;
        ssl_certificate_key /etc/nginx/conf.d/ssl/blog.feldan.top/blog.feldan.top.key;

        location /{
                root /usr/local/nginx/html/www/blog/public;
                index index.html;
        }
 }

root@VM-8-12-debian:/usr/local/nginx/html/www/blog# 
```
2. å®è®­ä¸»é¡µå·²ä¸Šä¼ è‡³äº‘æœåŠ¡å™¨
![](./æˆªå›¾_2022-06-10_10-25-03.png)
![](./%E6%88%AA%E5%9B%BE_2022-06-10_10-25-44.png)